<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ACP刷题助手</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- 首页 -->
        <div id="home-page" class="page active">
            <div class="home-header">
                <h1>📚 ACP刷题助手</h1>
                <p class="subtitle">随时随地，高效学习</p>
            </div>
            <div class="stats-card">
                <div class="stat-item">
                    <span class="stat-number" id="total-questions">0</span>
                    <span class="stat-label">总题数</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="completed-count">0</span>
                    <span class="stat-label">已完成</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="correct-rate">0%</span>
                    <span class="stat-label">正确率</span>
                </div>
            </div>
            <div class="menu-list">
                <button class="menu-item" onclick="startSequential()">
                    <span class="menu-icon">📖</span>
                    <span class="menu-text">顺序刷题</span>
                    <span class="menu-arrow">›</span>
                </button>
                <button class="menu-item" onclick="startRandom()">
                    <span class="menu-icon">🎲</span>
                    <span class="menu-text">随机刷题</span>
                    <span class="menu-arrow">›</span>
                </button>
                <button class="menu-item" onclick="startWrongOnly()">
                    <span class="menu-icon">❌</span>
                    <span class="menu-text">错题重做</span>
                    <span class="menu-arrow">›</span>
                </button>
                <button class="menu-item" onclick="showCategories()">
                    <span class="menu-icon">📁</span>
                    <span class="menu-text">分类练习</span>
                    <span class="menu-arrow">›</span>
                </button>
                <button class="menu-item" onclick="startExam()">
                    <span class="menu-icon">📝</span>
                    <span class="menu-text">
                        模拟考试
                        <span class="menu-desc">75题(50单选+25多选) · 100分 · 2小时</span>
                    </span>
                    <span class="menu-arrow">›</span>
                </button>
            </div>
            <button class="reset-btn" onclick="resetProgress()">重置学习进度</button>
        </div>

        <!-- 分类页面 -->
        <div id="category-page" class="page">
            <div class="page-header">
                <button class="back-btn" onclick="goHome()">‹ 返回</button>
                <h2>选择分类</h2>
            </div>
            <div class="category-list" id="category-list">
                <!-- 动态生成 -->
            </div>
        </div>

        <!-- 答题页面 -->
        <div id="quiz-page" class="page">
            <div class="quiz-header">
                <button class="back-btn" onclick="goHome()">‹ 返回</button>
                <div class="progress-info">
                    <span id="current-index">1</span> / <span id="total-count">0</span>
                </div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <div class="question-card">
                <div class="question-type" id="question-type">单选题</div>
                <div class="question-text" id="question-text"></div>
                <div class="options-list" id="options-list">
                    <!-- 动态生成选项 -->
                </div>
            </div>
            <div class="result-card" id="result-card">
                <div class="result-header-row">
                    <span class="result-icon" id="result-icon"></span>
                    <span class="result-text" id="result-text"></span>
                </div>
                <div class="answer-row" id="answer-row"></div>
                <div class="explanation-section">
                    <div class="explanation-title">📖 知识解读</div>
                    <div class="explanation" id="explanation"></div>
                </div>
            </div>
            <div class="quiz-actions">
                <button class="action-btn secondary" id="prev-btn" onclick="prevQuestion()">上一题</button>
                <button class="action-btn primary" id="submit-btn" onclick="submitAnswer()">提交答案</button>
                <button class="action-btn secondary" id="next-btn" onclick="nextQuestion()">下一题</button>
            </div>
        </div>

        <!-- 结果页面 -->
        <div id="result-page" class="page">
            <div class="result-header">
                <h2>练习完成!</h2>
            </div>
            <div class="final-stats">
                <div class="final-stat">
                    <span class="final-number" id="final-correct">0</span>
                    <span class="final-label">答对</span>
                </div>
                <div class="final-stat">
                    <span class="final-number" id="final-wrong">0</span>
                    <span class="final-label">答错</span>
                </div>
                <div class="final-stat">
                    <span class="final-number" id="final-rate">0%</span>
                    <span class="final-label">正确率</span>
                </div>
            </div>
            <div class="result-actions">
                <button class="action-btn primary" onclick="goHome()">返回首页</button>
                <button class="action-btn secondary" onclick="reviewWrong()">查看错题</button>
            </div>
        </div>

        <!-- 模拟考试页面 -->
        <div id="exam-page" class="page">
            <div class="exam-header">
                <button class="back-btn" onclick="confirmExitExam()">‹ 退出</button>
                <div class="exam-timer" id="exam-timer">
                    <span class="timer-icon">⏱️</span>
                    <span class="timer-text" id="timer-text">02:00:00</span>
                </div>
                <div class="exam-progress">
                    <span id="exam-current">1</span>/<span id="exam-total">75</span>
                </div>
            </div>
            <div class="exam-info-bar">
                <div class="exam-section" id="exam-section">单选题区</div>
                <div class="exam-score-info">
                    <span class="single-info">单选50题×1分</span>
                    <span class="multi-info">多选25题×2分</span>
                </div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="exam-progress-fill"></div>
            </div>
            <div class="question-card">
                <div class="question-type" id="exam-question-type">单选题</div>
                <div class="question-text" id="exam-question-text"></div>
                <div class="options-list" id="exam-options-list">
                    <!-- 动态生成选项 -->
                </div>
            </div>
            <div class="exam-nav">
                <button class="nav-btn" onclick="showExamOverview()">📋 答题卡</button>
            </div>
            <div class="quiz-actions">
                <button class="action-btn secondary" id="exam-prev-btn" onclick="examPrevQuestion()">上一题</button>
                <button class="action-btn primary" id="exam-save-btn" onclick="examSaveAndNext()">保存并下一题</button>
                <button class="action-btn secondary" id="exam-next-btn" onclick="examNextQuestion()">下一题</button>
            </div>
        </div>

        <!-- 答题卡弹窗 -->
        <div id="exam-overview-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>答题卡</h3>
                    <button class="modal-close" onclick="closeExamOverview()">×</button>
                </div>
                <div class="modal-body">
                    <div class="overview-section">
                        <h4>单选题（1-50题）</h4>
                        <div class="overview-grid" id="single-overview-grid">
                            <!-- 动态生成 -->
                        </div>
                    </div>
                    <div class="overview-section">
                        <h4>多选题（51-75题）</h4>
                        <div class="overview-grid" id="multi-overview-grid">
                            <!-- 动态生成 -->
                        </div>
                    </div>
                    <div class="overview-legend">
                        <span class="legend-item"><span class="legend-dot answered"></span>已答</span>
                        <span class="legend-item"><span class="legend-dot unanswered"></span>未答</span>
                        <span class="legend-item"><span class="legend-dot current"></span>当前</span>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="action-btn secondary" onclick="closeExamOverview()">继续答题</button>
                    <button class="action-btn primary submit-exam-btn" onclick="submitExam()">交卷</button>
                </div>
            </div>
        </div>

        <!-- 考试结果页面 -->
        <div id="exam-result-page" class="page">
            <div class="exam-result-header">
                <h2 id="exam-result-title">考试结束</h2>
                <p class="exam-result-subtitle" id="exam-result-subtitle">您的成绩如下</p>
            </div>
            <div class="exam-score-card">
                <div class="score-circle">
                    <span class="score-number" id="exam-final-score">0</span>
                    <span class="score-label">分</span>
                </div>
                <div class="pass-status" id="pass-status">未通过</div>
            </div>
            <div class="exam-detail-stats">
                <div class="detail-stat">
                    <span class="detail-label">单选题</span>
                    <span class="detail-value"><span id="single-correct">0</span>/50</span>
                    <span class="detail-score"><span id="single-score">0</span>分</span>
                </div>
                <div class="detail-stat">
                    <span class="detail-label">多选题</span>
                    <span class="detail-value"><span id="multi-correct">0</span>/25</span>
                    <span class="detail-score"><span id="multi-score">0</span>分</span>
                </div>
                <div class="detail-stat">
                    <span class="detail-label">用时</span>
                    <span class="detail-value" id="exam-time-used">--</span>
                    <span class="detail-score"></span>
                </div>
            </div>
            <div class="result-actions">
                <button class="action-btn primary" onclick="goHome()">返回首页</button>
                <button class="action-btn secondary" onclick="reviewExamWrong()">查看错题</button>
            </div>
        </div>
    </div>

    <script src="questions.js"></script>
    <script src="app.js"></script>
</body>
</html>
